function mAppPromo(){var e=document.querySelector(".m-app-promo__close-btn"),o=document.querySelector(".m-app-promo");e.addEventListener("click",eventsAppClick,!1),-1<navigator.userAgent.toLowerCase().indexOf("android")&&window.innerWidth<768&&o.classList.add("--visible")}function eventsAppClick(){var e=document.querySelector(".m-app-promo");window.pageYOffset>e.offsetHeight&&(e.style.transform="translateY(-"+e.offsetHeight+"px)"),e.classList.add("m-app-promo--closed"),e.classList.remove("--visible")}var done;$(function(){new Swiper(".js-events-swiper",{slidesPerView:"auto",loop:!1,spaceBetween:18,nextButton:".js-events-next",prevButton:".js-events-prev"})}),mAppPromo();var player=null,opened=!1;function showPopup(e,o){player?(opened=!0,player.cueVideoById(o)):showVideo(o),$(e).addClass("is-open"),$("body").addClass("unscrolled")}function hidePopup(){$(".js-player").removeClass("is-open"),$("body").removeClass("unscrolled")}function showVideo(e){initYtbPlayer(e)}function closeVideo(){player.stopVideo(),player.clearVideo(),opened=!1}function initYoutubeApp(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}function initYtbPlayer(e){player=new YT.Player("player",{height:"360",width:"640",videoId:e,playerVars:{autoplay:1,rel:0},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){e.target.playVideo()}function onPlayerStateChange(e){e.data===YT.PlayerState.CUED&&opened&&player.playVideo()}function stopVideo(){player.stopVideo()}function stickyBtnController(){var n=$(".js-sticky-btn");$(window).scroll(function(){var e=$(window).height(),o=$(window).scrollTop()+e,t=$("footer").offset().top,s=$(".how-do").offset().top,a=$(".section-gifts").offset().top;s<o?n.addClass("--white"):n.removeClass("--white"),a<o&&n.removeClass("--white"),"400"<=$(window).scrollTop()?(n.addClass("--show"),t-80<o&&n.removeClass("--show")):n.removeClass("--show")})}initYoutubeApp(),$(".js-popup-ytb").on("click",function(e){e.preventDefault();var o=String($(this).data("embed"));showPopup($(".js-player"),o)}),$(".js-close").on("click",function(){closeVideo(),hidePopup()}),stickyBtnController();var $appPromo=$(".m-app-promo");function updateVisAppPromo(){"10"<=$(window).scrollTop()?$appPromo.hasClass("--is-scrolled")||$appPromo.addClass("--is-scrolled"):$appPromo.removeClass("--is-scrolled")}$(".js-gifts-moto__point").on("click",function(){$(".js-gifts-moto__point").removeClass("_show"),$(this).addClass("_show")}),$(".js-tabs-item").on("click",function(){var e=this.getAttribute("data-target");$(".js-tabs-item").removeClass("_active"),$(this).addClass("_active"),$(".js-how-do").hasClass("_tab-meta4")&&$(".js-how-do").removeClass("_tab-meta4"),$(".js-how-do").hasClass("_tab-meta5")&&$(".js-how-do").removeClass("_tab-meta5"),$(".js-how-do").addClass("_tab-meta"+e)}),$(document).on("click",function(e){$(e.target).closest(".js-gifts-moto__point").length||$(".js-gifts-moto__point").removeClass("_show"),e.stopPropagation()}),$(window).scroll(function(){updateVisAppPromo()});