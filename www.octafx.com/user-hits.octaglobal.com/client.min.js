window.MsUserHitsClient=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(){var e=this;if(e.currentUrl=window.USER_HITS_ENDPOINT||"https://user-hits.octaglobal.com/save",e.commonData={clientId:o(),url:window.location.href,referrerUrl:document.referrer,userId:window.USER_HITS_PREDEFINED_USER_ID},this.payloadData=window.USER_HITS_EXTRA_PAYLOAD||null,e.initiated=!1,window.userHitsStorage=window.userHitsStorage||[],e.commonData.clientId)return console.debug("ms-user-hit-client: init - clientId already set"),void e.init();window.addEventListener("octaClientIdLoaded",function(){e.commonData.clientId=o(),console.debug("ms-user-hit-client: init after event `octaClientIdLoaded`",e.commonData),e.init()});for(var t=1;t<=7;t++)setTimeout(function(){if(!e.commonData.clientId){var t=o();t&&(e.commonData.clientId=t,console.debug("ms-user-hit-client: init after timeout"),e.init())}},125*Math.pow(2,t))}n.r(t),r.prototype.init=function(){var e=this;e.initiated||(e.initiated=!0,window.userHitsStorage.length>0&&e.sendEvents(window.userHitsStorage),window.userHitsStorage.push=function(){return e.sendEvents(arguments),Array.prototype.push.apply(this,arguments)})},r.prototype.sendEvents=function(e){e=this.extendData(e),console.debug("ms-user-hit-client: send extended data",this.currentUrl,e);var t=new window.XMLHttpRequest;t.open("POST",this.currentUrl,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","application/json"),t.onerror=function(e){console.error("ms-user-hit-client: error while send",e)},t.onload=function(){console.debug("ms-user-hit-client: xhr response",{readyState:t.readyState,status:t.status,response:t.response})},t.send(JSON.stringify(e))},r.prototype.extendData=function(e){var t=[];void 0===e&&(e=[]);for(var n=0;n<e.length;n++)e[n]=Object.assign({},this.commonData,e[n]),e[n].payload=Object.assign({},this.payloadData,e[n].payload),t.push(e[n]);return t};var o=function(){return function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));if(t)return t[2]}("octa-client-id")};Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var u=i[a],c=Object.getOwnPropertyDescriptor(o,u);void 0!==c&&c.enumerable&&(n[u]=o[u])}}return n}}),t.default=new r}]);